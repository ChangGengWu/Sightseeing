for(i in y){
list[[i]] <- strsplit(i ,"[a-zA-Z]")[[1]][1]
}
list
strsplit(i ,"[a-zA-Z]")[[1]][1]
for(i in y){
strsplit(i ,"[a-zA-Z]")[[i]][1]
}
for(i in y){
print(strsplit(i ,"[a-zA-Z]")[[i]][1])
}
for(i in y){
print(c(strsplit(i ,"[a-zA-Z]")[[i]][1]))
}
for(i in y){
print(i)
#print(c(strsplit(i ,"[a-zA-Z]")[[i]][1]))
}
for(i in y){
print(c(strsplit(i ,"[a-zA-Z]")[[1]][1]))
}
for(i in y){
list <- (c(strsplit(i ,"[a-zA-Z]")[[1]][1]))
}
list
for(i in y){
list <- (c(strsplit(i ,"[a-zA-Z]")[[1]][1]))
}
list
nodes <- data.frame(id = c(x$id),label = c(for(i in y){
list <- (c(strsplit(i ,"[a-zA-Z]")[[1]][1]))
}))
visNetwork(nodes,idth = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
nodes <- data.frame(id = c(x$id),label = c(x$name))
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
#轉碼(讓中文顯示)
dbSendQuery(con,"SET NAMES big5")
#query
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0080'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,idth = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,idth = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,idth = "100%",height = "1000px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "2000px")%>%
visEdges(smooth = FALSE)
#query
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0090'")
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0080'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "2000px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0080'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
#query
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0085'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0090'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0095'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0090'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name))
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0090'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name),shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name),shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0090'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name),shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
dbSendQuery(con,"SET NAMES big5")
#query
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0090'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name),shape='circle')
visNetwork(nodes,width = "200%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name),shape='circle')
visNetwork(nodes,width = "200%",height = "500px")%>%
visEdges(smooth = FALSE)
dbSendQuery(con,"SET NAMES big5")
#query
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0090'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),shape='circle')
visNetwork(nodes,width = "200%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S1000'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
dbSendQuery(con,"SET NAMES big5")
#query
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0100'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name), shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0080'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name), shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
#install.packages("DBI")
#install.packages("odbc")
library("RMySQL");
library("visNetwork");
#連結資料庫
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
#轉碼(讓中文顯示)
dbSendQuery(con,"SET NAMES big5")
#query
result = dbSendQuery(con, "SELECT * FROM site WHERE id BETWEEN 'S0002' AND 'S0080'")
#執行query
data.frame = fetch(result)
x <- data.frame
nodes <- data.frame(id = c(x$id),label = c(x$name), shape='circle')
visNetwork(nodes,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
library("RMySQL");
library("visNetwork");
library('igraph')
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
dbSendQuery(con,"SET NAMES big5")
segment <- dbGetQuery(con, "SELECT * FROM comment_segment")
relationship <- dbGetQuery(con, "SELECT * FROM comment_segment_relationship")
x <- data.frame(segment)
y <- data.frame(relationship)
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
library("RMySQL");
library("visNetwork");
library('igraph')
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
dbSendQuery(con,"SET NAMES big5")
segment <- dbGetQuery(con, "SELECT * FROM comment_segment")
relationship <- dbGetQuery(con, "SELECT * FROM comment_segment_relationship")
x <- data.frame(segment)
y <- data.frame(relationship)
nodes <- data.frame(id = c(x$id), label = c(x$id),color = c(x$color))
edges <- data.frame(from = c(y$from), to = c(y$to))
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
g <- graph.data.frame(edges, directed=FALSE, vertices=nodes)
graph <- betweenness(g, v = V(g), directed = FALSE, weights = NA)
visIgraph(g) %>%
visOptions(highlightNearest = TRUE)
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
a <- read.csv("../Data/site_Attr.csv",fileEncoding = "UTF-8-BOM" ,stringsAsFactors = FALSE)
b <- read.csv("../Data/site_Data.csv",fileEncoding = "UTF-8-BOM" ,stringsAsFactors = FALSE)
p <- read.csv("../Data/site_Relationship.csv",fileEncoding = "UTF-8-BOM",stringsAsFactors = FALSE)
z <- merge(x = a, y = b, by.x = c("id","type"),by.y = c("id","type"), all = TRUE)
str(z$id)
#print(y$site_name
nodes <- data.frame(id = c(z$id),shape = 'circle',group = c(z$type),label = c(z$id),font.size = 50)
edges <- data.frame(from = c(p$from), to = c(p$to))
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visEdges(smooth = FALSE)
library("RMySQL");
library("visNetwork");
library('igraph')
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
dbSendQuery(con,"SET NAMES big5")
segment <- dbGetQuery(con, "SELECT * FROM comment_segment")
relationship <- dbGetQuery(con, "SELECT * FROM comment_segment_relationship")
x <- data.frame(segment)
y <- data.frame(relationship)
nodes <- data.frame(id = c(x$id), label = c(x$id))
edges <- data.frame(from = c(y$from), to = c(y$to))
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visIgraphLayout() %>%
visEdges(smooth = FALSE)
nodes <- data.frame(id = c(x$id), label = c(x$id),color = c(x$color), shape = c(x$shape))
library("RMySQL");
library("visNetwork");
library('igraph')
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
dbSendQuery(con,"SET NAMES big5")
segment <- dbGetQuery(con, "SELECT * FROM comment_segment")
relationship <- dbGetQuery(con, "SELECT * FROM comment_segment_relationship")
x <- data.frame(segment)
y <- data.frame(relationship)
nodes <- data.frame(id = c(x$id), label = c(x$id),color = c(x$color), shape = c(x$shape))
edges <- data.frame(from = c(y$from), to = c(y$to))
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visIgraphLayout() %>%
visEdges(smooth = FALSE)
library("RMySQL");
library("visNetwork");
library('igraph')
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
dbSendQuery(con,"SET NAMES big5")
segment <- dbGetQuery(con, "SELECT * FROM comment_segment")
relationship <- dbGetQuery(con, "SELECT * FROM comment_segment_relationship")
x <- data.frame(segment)
y <- data.frame(relationship)
nodes <- data.frame(id = c(x$id), label = c(x$id),color = c(x$color), shape = c(x$shape))
edges <- data.frame(from = c(y$from), to = c(y$to))
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
# visIgraphLayout() %>%
visEdges(smooth = FALSE)
library("RMySQL");
library("visNetwork");
library('igraph')
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
dbSendQuery(con,"SET NAMES big5")
segment <- dbGetQuery(con, "SELECT * FROM comment_segment")
relationship <- dbGetQuery(con, "SELECT * FROM comment_segment_relationship")
x <- data.frame(segment)
y <- data.frame(relationship)
nodes <- data.frame(id = c(x$id), label = c(x$id),color = c(x$color), shape = c(x$shape))
edges <- data.frame(from = c(y$from), to = c(y$to))
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visIgraphLayout() %>%
visEdges(smooth = FALSE)
library("RMySQL");
library("visNetwork");
library('igraph')
con = dbConnect(MySQL(), user = 'root', password = '12345678', dbname = 'test1',
host = 'localhost')
dbSendQuery(con,"SET NAMES big5")
segment <- dbGetQuery(con, "SELECT * FROM comment_segment")
relationship <- dbGetQuery(con, "SELECT * FROM comment_segment_relationship1")
x <- data.frame(segment)
y <- data.frame(relationship)
nodes <- data.frame(id = c(x$id), label = c(x$id),color = c(x$color), shape = c(x$shape))
edges <- data.frame(from = c(y$from), to = c(y$to))
visNetwork(nodes,edges,width = "100%",height = "500px")%>%
visIgraphLayout() %>%
visEdges(smooth = FALSE)
